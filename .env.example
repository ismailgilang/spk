# ============================================================================
# PROJECT IDENTITY
# ============================================================================
COMPOSE_PROJECT_NAME=SPK

# ============================================================================
# LARAVEL APPLICATION SETTINGS
# ============================================================================
APP_NAME=SPK
APP_ENV=local
APP_KEY=base64:hWBTufwltzUEMMnzM+TZlicrz0rInsKgZ9u1gZmZwQ0=
APP_DEBUG=true
APP_URL=http://localhost:8001

APP_LOCALE=id
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=id_ID

APP_MAINTENANCE_DRIVER=file
# APP_MAINTENANCE_STORE=database

# ============================================================================
# PHP & LARAVEL PERFORMANCE
# ============================================================================
PHP_CLI_SERVER_WORKERS=4
BCRYPT_ROUNDS=12

# ============================================================================
# LOGGING
# ============================================================================
LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

# ============================================================================
# DATABASE SETTINGS
# ============================================================================
DB_CONNECTION=mysql
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=spk
DB_USERNAME=spk
DB_PASSWORD=password
DB_ROOT_PASSWORD=rahasia

# ============================================================================
# SESSION & CACHE SETTINGS
# ============================================================================
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

CACHE_STORE=redis
# CACHE_PREFIX=

# ============================================================================
# REDIS SETTINGS
# ============================================================================
REDIS_CLIENT=phpredis
REDIS_HOST=redis
REDIS_PASSWORD=null
REDIS_PORT=6379

# ============================================================================
# QUEUE & BROADCASTING
# ============================================================================
BROADCAST_CONNECTION=log
QUEUE_CONNECTION=redis

# ============================================================================
# FILESYSTEM
# ============================================================================
FILESYSTEM_DISK=local

# ============================================================================
# MAIL SETTINGS
# ============================================================================
MAIL_MAILER=log
MAIL_SCHEME=null
MAIL_HOST=127.0.0.1
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"

# ============================================================================
# AWS SETTINGS (Optional)
# ============================================================================
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

# ============================================================================
# MEMCACHED (Optional)
# ============================================================================
MEMCACHED_HOST=127.0.0.1

# ============================================================================
# VITE DEVELOPMENT SETTINGS
# ============================================================================
VITE_APP_NAME="${APP_NAME}"
VITE_INTERNAL_PORT=5173
VITE_DEV_SERVER_URL=http://localhost:${FORWARD_VITE_PORT:-5174}

# ============================================================================
# OCTANE SETTINGS
# ============================================================================
OCTANE_SERVER=frankenphp
OCTANE_HTTPS=false

# ============================================================================
# SPATIE/LARAVEL SETTINGS CONFIGURATION
# ============================================================================
SETTINGS_CACHE_ENABLED=false

# ============================================================================
# DOCKER & PERMISSION SETTINGS
# ============================================================================
# PENTING: PUID dan PGID akan di-set otomatis oleh Makefile atau deploy.sh
# Jangan set manual kecuali untuk kasus khusus
#
# Untuk auto-detect:
# - Linux/Mac: gunakan 'make env-init' atau jalankan: id -u && id -g
# - Windows WSL: biasanya 1000, atau check dengan: id -u && id -g
#
# Default: 1000 (akan di-override oleh script jika berbeda)
PUID=1000
PGID=1000

# ============================================================================
# DOCKER PORT FORWARDING
# ============================================================================
FORWARD_APP_PORT=8001
FORWARD_DB_PORT=3307
FORWARD_VITE_PORT=5174
FORWARD_REDIS_PORT=6380

# ============================================================================
# CI/CD SETTINGS (untuk GitLab CI/CD)
# ============================================================================
# Ini akan di-set otomatis oleh GitLab CI/CD Pipeline
# Jangan ubah secara manual kecuali untuk testing lokal
# CI_REGISTRY_IMAGE=registry.gitlab.com/alfalahdev/siswa
# CI_COMMIT_SHORT_SHA=latest

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================
# Gotenberg untuk PDF generation (jika menggunakan shared service)
GOTENBERG_HOST=http://shared-gotenberg:3000

# ============================================================================
# NOTES & INSTRUCTIONS
# ============================================================================
#
# üìù CARA SETUP ENVIRONMENT:
#
# 1. Development (Local):
#    - Copy file ini: cp .env.example .env
#    - Run: make env-init (akan auto-set PUID/PGID)
#    - Run: make up
#
# 2. Production (Server):
#    - Copy file ini ke server
#    - Set PUID/PGID sesuai user server: id -u && id -g
#    - Ubah APP_ENV=production, APP_DEBUG=false
#    - Set APP_URL ke domain production
#    - Generate APP_KEY dengan: php artisan key:generate
#    - Update DB credentials untuk production
#    - Update REDIS password untuk security
#
# 3. CI/CD (GitLab):
#    - CI_REGISTRY_IMAGE dan CI_COMMIT_SHORT_SHA akan di-inject otomatis
#    - Set secrets di GitLab CI/CD Variables
#
# ============================================================================
